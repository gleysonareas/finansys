!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{DXcP:function(t,n,i){"use strict";i.d(n,"a",function(){return a});var o=i("tyNb"),u=i("3Pt+"),s=i("eIep"),c=(i("PFOJ"),i("fXoL")),a=function(){var t=function(){function t(r,n,i,s){e(this,t),this.injector=r,this.resourceService=n,this.jsonDataToResourceFn=i,this.resource=s,this.currentAction="",this.resourceForm={},this.pageTitle="",this.serverErrorMessages=[],this.submittingForm=!1,this.route=this.injector.get(o.a),this.router=this.injector.get(o.b),this.formBuilder=this.injector.get(u.c)}return r(t,[{key:"ngOnInit",value:function(){this.setCurrentAction(),this.buildResourceForm(),this.loadResource()}},{key:"ngAfterContentChecked",value:function(){this.setPageTitle()}},{key:"submitForm",value:function(){this.submittingForm=!0,"new"==this.currentAction?this.createResource():this.updateResource()}},{key:"setCurrentAction",value:function(){this.currentAction="new"==this.route.snapshot.url[0].path?"new":"edit"}},{key:"loadResource",value:function(){var e=this;"edit"==this.currentAction&&this.route.paramMap.pipe(Object(s.a)(function(t){return e.resourceService.getById(+t.get("id"))})).subscribe(function(t){e.resource=t,e.resourceForm.patchValue(t)},function(e){return alert("Ocorreu um erro no servidor, Por favor tente mais tarde")})}},{key:"setPageTitle",value:function(){this.pageTitle="new"==this.currentAction?this.creationPageTitle():this.editionPageTitle()}},{key:"creationPageTitle",value:function(){return"Novo"}},{key:"editionPageTitle",value:function(){return"Edi\xe7\xe3o"}},{key:"createResource",value:function(){var e=this,t=this.jsonDataToResourceFn(this.resourceForm.value);this.resourceService.create(t).subscribe(function(t){return e.actionsForSuccess(t)},function(t){return e.actionsForError(t)})}},{key:"updateResource",value:function(){var e=this,t=this.jsonDataToResourceFn(this.resourceForm.value);this.resourceService.update(t).subscribe(function(t){return e.actionsForSuccess(t)},function(t){return e.actionsForError(t)})}},{key:"actionsForError",value:function(e){this.submittingForm=!1,this.serverErrorMessages=422==e.status?JSON.parse(e._body).errors:["Falha na comunica\xe7\xe3o com o servidor. Por Favor tente mais tarde."]}},{key:"actionsForSuccess",value:function(e){var t=this,r=this.route.snapshot.parent.url[0].path;this.router.navigateByUrl(r,{skipLocationChange:!0}).then(function(){return t.router.navigate([r,e.id,"edit"])})}}]),t}();return t.\u0275fac=function(e){c.Yb()},t.\u0275dir=c.Gb({type:t}),t}()},zkNK:function(t,n,i){"use strict";i.d(n,"a",function(){return s});var o=i("PFOJ"),u=i("fXoL"),s=function(){var t=function(){function t(r){e(this,t),this.resourceService=r,this.resources=[]}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.resourceService.getAll().subscribe(function(t){return e.resources=t.sort(function(e,t){return t.id-e.id})},function(e){return alert("Erro ao carregar a lista")})}},{key:"deleteResource",value:function(e){var t=this;confirm("Deseja realmente excluir este item?")&&this.resourceService.delete(e.id).subscribe(function(){return t.resources=t.resources.filter(function(t){return t!==e})},function(){return alert("Erro ao tentar Excluir")})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Lb(o.a))},t.\u0275dir=u.Gb({type:t}),t}()}}])}();